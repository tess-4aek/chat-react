{"version":3,"sources":["utils/consts.js","components/Login.js","components/Loader.js","components/Chat.js","routes.js","components/AppRouter.js","components/Navbar.js","App.js","index.js"],"names":["LOGIN_ROUTE","CHAT_ROUTE","Login","auth","useContext","Context","login","provider","firebase","GoogleAuthProvider","signInWithPopup","user","console","log","Container","Grid","container","style","height","window","innerHeight","alignItems","justifyContent","width","background","borderRadius","direction","Box","p","Button","onClick","variant","Loader","className","Chat","firestore","useAuthState","useState","value","setValue","useCollectionData","collection","orderBy","messages","loading","sendMessage","add","uid","displayName","photoURL","text","createdAt","FieldValue","serverTimestamp","paddingTop","overflowX","backgroundImage","backgroundPosition","backgroundSize","map","message","margin","marginLeft","Avatar","marginRight","src","padding","marginTop","TextField","fullWidth","maxRows","onChange","e","target","border","color","publicRoutes","path","Component","privateRoutes","AppRouter","component","exact","to","Navbar","AppBar","position","Toolbar","signOut","App","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createContext","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.9348d956.chunk.js","sourcesContent":["export const LOGIN_ROUTE = '/login';\r\nexport const CHAT_ROUTE = '/chat';","import React, { useContext } from 'react';\r\nimport { Container, Grid, Box, Button } from '@material-ui/core';\r\nimport { Context } from '..';\r\nimport firebase from 'firebase';\r\n\r\nconst Login = () => {\r\n    const { auth } = useContext(Context);\r\n\r\n    const login = async () => {\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n        const { user } = await auth.signInWithPopup(provider);\r\n        console.log(user);\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Grid container\r\n                style={{ height: window.innerHeight - 48 }}\r\n                alignItems={\"center\"}\r\n                justifyContent={\"center\"}\r\n            >\r\n                <Grid style={{ width: 300, background: '#a6d4fa', borderRadius: '5px' }}\r\n                    container\r\n                    alignItems={\"center\"}\r\n                    direction={\"column\"}\r\n                >\r\n                    <Box p={5}>\r\n                        <Button onClick={login} variant={\"outlined\"}>Login with Google</Button>\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Container, Grid } from '@material-ui/core';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <Container>\r\n            <Grid container\r\n                style={{ height: window.innerHeight - 48 }}\r\n                alignItems={\"center\"}\r\n                justifyContent={\"center\"}\r\n            >\r\n                <Grid\r\n                    container\r\n                    alignItems={\"center\"}\r\n                    direction={\"column\"}\r\n                >\r\n                    <div className=\"lds-default\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Loader;","import React, { useContext, useState } from 'react';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { Context } from '..';\r\nimport { Container, Grid, TextField, Button, Avatar } from '@material-ui/core'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport Loader from './Loader';\r\nimport firebase from 'firebase';\r\n\r\nconst Chat = () => {\r\n    const { auth, firestore } = useContext(Context);\r\n    const [user] = useAuthState(auth);\r\n    const [value, setValue] = useState('');\r\n    const [messages, loading] = useCollectionData(\r\n        firestore.collection('messages').orderBy('createdAt')\r\n    );\r\n\r\n    const sendMessage = async () => {\r\n        firestore.collection('messages').add({\r\n            uid: user.uid,\r\n            displayName: user.displayName,\r\n            photoURL: user.photoURL,\r\n            text: value,\r\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n        });\r\n        setValue('');\r\n    }\r\n\r\n    if (loading) {\r\n        return <Loader />\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Grid\r\n                container\r\n                justifyContent={\"center\"}\r\n                alignItems={\"center\"}\r\n                direction={\"column\"}\r\n                style={{ height: window.innerHeight - 48, paddingTop: 20 }}>\r\n                <div style={{ width: '300px', height: '70vh',  overflowX: 'auto', backgroundImage: 'url(img/chatBg.jpg)', backgroundPosition: 'center', backgroundSize: 'cover' }}>\r\n                    {messages.map(message =>\r\n                        <div style={{\r\n                            width: 'fit-content',\r\n                            margin: 10,\r\n                            marginLeft: user.uid === message.uid ? 'auto' : '10px'\r\n                        }}>\r\n                            <Grid container alignItems={'center'}>\r\n                                <Avatar style={{ marginRight: '5px' }} src={message.photoURL} />\r\n                                <div>{message.displayName}</div>\r\n                            </Grid>\r\n                            <div style={{\r\n                                padding: 5,\r\n                                width: 'fit-content',\r\n                                borderRadius: '10px',\r\n                                background: user.uid === message.uid ? '#81c784' : '#e57373',\r\n                                marginLeft: user.uid === message.uid ? 'auto' : '0px',\r\n                                marginTop: '10px'\r\n                            }}>\r\n                                {message.text}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <Grid\r\n                    container\r\n                    direction={\"column\"}\r\n                    alignItems={\"flex-end\"}\r\n                    style={{ width: '300px', marginTop: '10px' }}\r\n                >\r\n                    <TextField\r\n                    \r\n                        fullWidth\r\n                        maxRows={2}\r\n                        variant={\"outlined\"}\r\n                        value={value}\r\n                        onChange={e => setValue(e.target.value)}\r\n                    />\r\n                    <Button onClick={sendMessage} style={{padding: '5px 25px', marginTop: '10px', border: 'none', borderRadius: '20px' ,color: 'black', background: '#a6d4fa'}}>Send</Button>\r\n                </Grid>\r\n            </Grid>\r\n        </Container >\r\n    );\r\n};\r\n\r\nexport default Chat;","import { CHAT_ROUTE, LOGIN_ROUTE } from \"./utils/consts\";\r\nimport Login from \"./components/Login\";\r\nimport Chat from \"./components/Chat\";\r\n\r\nexport const publicRoutes = [{\r\n    path: LOGIN_ROUTE,\r\n    Component: Login\r\n}]\r\n\r\nexport const privateRoutes = [{\r\n    path: CHAT_ROUTE,\r\n    Component: Chat\r\n}]","import React, { useContext } from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { privateRoutes, publicRoutes } from '../routes';\r\nimport { CHAT_ROUTE, LOGIN_ROUTE } from '../utils/consts';\r\nimport {useAuthState} from 'react-firebase-hooks/auth';\r\nimport { Context } from '..';\r\n\r\nconst AppRouter = () => {\r\n    const {auth} = useContext(Context);\r\n    const [user] = useAuthState(auth);\r\n    \r\n    return user ?\r\n        (\r\n            <Switch>\r\n                {privateRoutes.map(({ path, Component }) =>\r\n                    <Route key={path} path={path} component={Component} exact={true} />\r\n                )}\r\n                <Redirect to={CHAT_ROUTE} />\r\n            </Switch>\r\n        )\r\n        :\r\n        (\r\n            <Switch>\r\n                {publicRoutes.map(({ path, Component }) =>\r\n                    <Route key={path} path={path} component={Component} exact={true} />\r\n                )}\r\n                <Redirect to={LOGIN_ROUTE} />\r\n            </Switch>\r\n        )\r\n};\r\n\r\nexport default AppRouter;","import { AppBar, Toolbar, Button, Grid } from '@material-ui/core';\r\nimport React, { useContext } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Context } from '..';\r\nimport { LOGIN_ROUTE } from '../utils/consts';\r\nimport {useAuthState} from 'react-firebase-hooks/auth';\r\n\r\nconst Navbar = () => {\r\n    const {auth} = useContext(Context);\r\n    const [user] = useAuthState(auth);\r\n\r\n    return (\r\n        <AppBar style={{background: '#a6d4fa'}} position=\"static\">\r\n            <Toolbar variant={\"dense\"}>\r\n                <Grid container justifyContent={\"space-between\"}>\r\n                    <div className='logo'>\r\n                        Chat-R\r\n                    </div>\r\n                    {user ?\r\n                        <Button onClick={() => auth.signOut()} variant={\"outlined\"}>Logout</Button>\r\n                        :\r\n                        <NavLink to={LOGIN_ROUTE}>\r\n                            <Button variant={\"outlined\"}>Login</Button>\r\n                        </NavLink>\r\n                    }\r\n                </Grid>\r\n            </Toolbar>\r\n        </AppBar>\r\n    );\r\n};\r\n\r\nexport default Navbar;","import React, { useContext } from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport AppRouter from './components/AppRouter';\r\nimport Navbar from './components/Navbar';\r\nimport './App.css';\r\nimport { Context } from '.';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport Loader from './components/Loader';\r\n\r\nconst App = () => {\r\n    const { auth } = useContext(Context);\r\n    const [user, loading, error] = useAuthState(auth);\r\n\r\n    if(loading){\r\n        return <Loader/>\r\n    }\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <Navbar />\r\n            <AppRouter />\r\n        </BrowserRouter>\r\n    );\r\n};\r\n\r\nexport default App;","import React, { createContext } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.js';\r\nimport firebase from 'firebase';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nfirebase.initializeApp({\r\n    apiKey: \"AIzaSyCJsCCgL2b9BclJkUor2dPBlQu0DwYrlBQ\",\r\n    authDomain: \"chat-react-161c1.firebaseapp.com\",\r\n    projectId: \"chat-react-161c1\",\r\n    storageBucket: \"chat-react-161c1.appspot.com\",\r\n    messagingSenderId: \"792017062583\",\r\n    appId: \"1:792017062583:web:7d28ffebe468eaa7d39b32\",\r\n    measurementId: \"G-PJXJ5D2B53\"\r\n});\r\n\r\n\r\nexport const Context = createContext(null);\r\n\r\nconst auth = firebase.auth();\r\nconst firestore = firebase.firestore();\r\n\r\n\r\nReactDOM.render(\r\n    <Context.Provider value={{\r\n        firebase,\r\n        auth,\r\n        firestore\r\n    }}>\r\n        <App />\r\n    </Context.Provider>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}