(this["webpackJsonpreact-firebase-chat"]=this["webpackJsonpreact-firebase-chat"]||[]).push([[0],{91:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return N}));var c=n(1),a=n(15),i=n.n(a),r=n(21),s=n(41),o=n(17),j="/login",d="/chat",u=n(38),b=n(47),l=n(120),h=n(123),x=n(128),O=n(129),p=n(31),g=n(7),f=function(){var e=Object(c.useContext)(N).auth,t=function(){var t=Object(b.a)(Object(u.a)().mark((function t(){var n,c,a;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new p.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:c=t.sent,a=c.user,console.log(a);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(g.jsx)(l.a,{children:Object(g.jsx)(h.a,{container:!0,style:{height:window.innerHeight-48},alignItems:"center",justifyContent:"center",children:Object(g.jsx)(h.a,{style:{width:300,background:"#a6d4fa",borderRadius:"5px"},container:!0,alignItems:"center",direction:"column",children:Object(g.jsx)(x.a,{p:5,children:Object(g.jsx)(O.a,{onClick:t,variant:"outlined",children:"Login with Google"})})})})})},m=n(32),v=n(130),w=n(126),y=n(64),C=function(){return Object(g.jsx)(l.a,{children:Object(g.jsx)(h.a,{container:!0,style:{height:window.innerHeight-48},alignItems:"center",justifyContent:"center",children:Object(g.jsx)(h.a,{container:!0,alignItems:"center",direction:"column",children:Object(g.jsxs)("div",{className:"lds-default",children:[Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{})]})})})})},k=function(){var e=Object(c.useContext)(N),t=e.auth,n=e.firestore,a=Object(m.a)(t),i=Object(r.a)(a,1)[0],s=Object(c.useState)(""),o=Object(r.a)(s,2),j=o[0],d=o[1],x=Object(y.a)(n.collection("messages").orderBy("createdAt")),f=Object(r.a)(x,2),k=f[0],I=f[1],L=function(){var e=Object(b.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:i.uid,displayName:i.displayName,photoURL:i.photoURL,text:j,createdAt:p.a.firestore.FieldValue.serverTimestamp()}),d("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return I?Object(g.jsx)(C,{}):Object(g.jsx)(l.a,{children:Object(g.jsxs)(h.a,{container:!0,justifyContent:"center",alignItems:"center",direction:"column",style:{height:window.innerHeight-48,paddingTop:20},children:[Object(g.jsx)("div",{style:{width:"300px",height:"70vh",overflowX:"auto",backgroundImage:"url(img/chatBg.jpg)",backgroundPosition:"center",backgroundSize:"cover"},children:k.map((function(e){return Object(g.jsxs)("div",{style:{width:"fit-content",margin:10,marginLeft:i.uid===e.uid?"auto":"10px"},children:[Object(g.jsxs)(h.a,{container:!0,alignItems:"center",children:[Object(g.jsx)(v.a,{style:{marginRight:"5px"},src:e.photoURL}),Object(g.jsx)("div",{children:e.displayName})]}),Object(g.jsx)("div",{style:{padding:5,width:"fit-content",borderRadius:"10px",background:i.uid===e.uid?"#81c784":"#e57373",marginLeft:i.uid===e.uid?"auto":"0px",marginTop:"10px"},children:e.text})]})}))}),Object(g.jsxs)(h.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"300px",marginTop:"10px"},children:[Object(g.jsx)(w.a,{fullWidth:!0,maxRows:2,variant:"outlined",value:j,onChange:function(e){return d(e.target.value)}}),Object(g.jsx)(O.a,{onClick:L,style:{padding:"5px 25px",marginTop:"10px",border:"none",borderRadius:"20px",color:"black",background:"#a6d4fa"},children:"Send"})]})]})})},I=[{path:j,Component:f}],L=[{path:d,Component:k}],R=function(){var e=Object(c.useContext)(N).auth,t=Object(m.a)(e);return Object(r.a)(t,1)[0]?Object(g.jsxs)(o.d,{children:[L.map((function(e){var t=e.path,n=e.Component;return Object(g.jsx)(o.b,{path:t,component:n,exact:!0},t)})),Object(g.jsx)(o.a,{to:d})]}):Object(g.jsxs)(o.d,{children:[I.map((function(e){var t=e.path,n=e.Component;return Object(g.jsx)(o.b,{path:t,component:n,exact:!0},t)})),Object(g.jsx)(o.a,{to:j})]})},B=n(124),J=n(125),P=function(){var e=Object(c.useContext)(N).auth,t=Object(m.a)(e),n=Object(r.a)(t,1)[0];return Object(g.jsx)(B.a,{style:{background:"#a6d4fa"},position:"static",children:Object(g.jsx)(J.a,{variant:"dense",children:Object(g.jsxs)(h.a,{container:!0,justifyContent:"space-between",children:[Object(g.jsx)("div",{className:"logo",children:"Chat-R"}),n?Object(g.jsx)(O.a,{onClick:function(){return e.signOut()},variant:"outlined",children:"Logout"}):Object(g.jsx)(s.b,{to:j,children:Object(g.jsx)(O.a,{variant:"outlined",children:"Login"})})]})})})},A=(n(91),function(){var e=Object(c.useContext)(N).auth,t=Object(m.a)(e),n=Object(r.a)(t,3),a=(n[0],n[1]);n[2];return a?Object(g.jsx)(C,{}):Object(g.jsxs)(s.a,{children:[Object(g.jsx)(P,{}),Object(g.jsx)(R,{})]})});n(92),n(93);p.a.initializeApp({apiKey:"AIzaSyCJsCCgL2b9BclJkUor2dPBlQu0DwYrlBQ",authDomain:"tess-4aek.github.io",projectId:"chat-react-161c1",storageBucket:"chat-react-161c1.appspot.com",messagingSenderId:"792017062583",appId:"1:792017062583:web:7d28ffebe468eaa7d39b32",measurementId:"G-PJXJ5D2B53"});var N=Object(c.createContext)(null),S=p.a.auth(),T=p.a.firestore();i.a.render(Object(g.jsx)(N.Provider,{value:{firebase:p.a,auth:S,firestore:T},children:Object(g.jsx)(A,{})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.547c05a8.chunk.js.map